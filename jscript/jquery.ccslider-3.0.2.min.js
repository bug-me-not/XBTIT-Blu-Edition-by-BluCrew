/* jQuery CCSlider Plugin 3.0.2
 * Copyright 2012, Nilok Bose
 * http://codecanyon.net/user/cosmocoder
*/

(function(c,a){function b(K,aq){var a7=c.extend(true,{},c.fn.ccslider.defaults,aq);var P=this,aM=c(K),ag=aM.wrapInner('<div class="slider-innerWrapper"/>').find("div.slider-innerWrapper"),aQ=aM.width(),D=aM.height(),J=aQ,aw=D,aG=aM.find("img"),aj=aG.length,S,q,X=false,V=false,aA=[],ay=false,l=a7._3dOptions.imageWidth,a2=a7._3dOptions.imageHeight,bg=a7._3dOptions.transparentImg,ad=a7._3dOptions.innerSideColor,o=a7._3dOptions.makeShadow,af=a7._3dOptions.shadowColor,F=a7._3dOptions.slices,an=a7._3dOptions.rows,ab=a7._3dOptions.columns,d=a7._3dOptions.delay,ap=a7._3dOptions.delayDir,m=a7._3dOptions.depthOffset,C=a7._3dOptions.sliceGap,aO=a7._3dOptions.easing,aV=a7._3dOptions.fallBack,I,a5,a3=a7.startSlide,ak=false,u=false,at=false,g,ba,bb,aH;for(var Z=0;Z<aj;Z++){aA[Z]=aG.eq(Z).data("transition")}if(a7.effectType==="3d"){if(a.createElement("canvas").getContext){q="3d";S=a7.effect;I=a7.animSpeed}else{q="2d";S=aV;I=a7._3dOptions.fallBackSpeed;V=true;aM.addClass("fallback")}}else{q="2d";S=a7.effect;I=a7.animSpeed}aM.addClass("ccslider");if(a7.directionNav){var ai=c('<a class="slider-nav prev"/>').appendTo(aM),aX=c('<a class="slider-nav next"/>').appendTo(aM);ai.click(function(){P.prev()});aX.click(function(){P.next()})}if(a7.controlLinks){var ax=c('<ul class="control-links" />').appendTo(aM),a9="";if(a7.controlLinkThumbs){aM.addClass("controlThumbs")}for(var Z=0;Z<aj;Z++){if(a7.controlLinkThumbs){a9+='<li class="linkThumb" data-index="'+Z+'"><img src="'+a7.controlThumbLocation+aG.eq(Z).data("thumbname")+'" /></li>'}else{a9+='<li data-index="'+Z+'">'+(Z+1)+"</li>"}}ax.append(a9).delegate("li","click",function(){if(!c(this).hasClass("active")){P.goToSlide(c(this).data("index"))}})}function M(){if(a7.controlLinks){ax.find("li").removeClass("active").eq(a3).addClass("active")}}M();var aa,ae;aM.bind("touchstart.ccslider",function(i){var bh=i.originalEvent.touches[0];aa=bh.pageX}).bind("touchmove.ccslider",function(i){var bh=i.originalEvent.touches[0];ae=bh.pageX;if(ae-aa>=50){P.next()}else{if(ae-aa<=-50){P.prev()}}i.preventDefault()});function H(){if(!at&&!u){g=setInterval(function(){if(q==="3d"){k("next")}else{ar("next")}},a7.pauseTime)}}function aT(){clearInterval(g);g=""}if(a7.autoPlay){H()}if(a7.pauseOnHover){aM.hover(function(){at=true;aT()},function(){at=false;if(g===""&&a7.autoPlay&&!ak){H()}})}if(a7.autoPlay){var s=c('<div class="slider-timer pause"/>').appendTo(aM);s.click(function(){if(s.hasClass("pause")){s.removeClass("pause").addClass("play");aT();ak=true}else{s.removeClass("play").addClass("pause");H();ak=false}})}function G(){u=false;if(a7.autoPlay&&!ak){H()}}function aC(){var bi=["webkit","moz","ms","o"];if("hidden" in a){return"hidden"}for(var bh=0;bh<bi.length;bh++){if((bi[bh]+"Hidden") in a){return bi[bh]+"Hidden"}}return null}function L(){var i=aC();if(!i){return false}return a[i]}var E=aC();if(E){var r=E.replace(/[H|h]idden/,"")+"visibilitychange";a.addEventListener(r,n)}function n(){if(a7.autoPlay){s.trigger("click")}}this.next=function(){if(g){aT()}if(q==="3d"){k("next")}else{ar("next")}};this.prev=function(){if(g){aT()}if(q==="3d"){k("prev")}else{ar("prev")}};this.stop=function(){s.trigger("click")};this.start=function(){s.trigger("click")};this.goToSlide=function(bh){if(q==="3d"){k(bh)}else{ar(bh)}};this.destroy=function(){aM.children().not(ag).remove();ag.children().not(aG).remove();aG.stop().unwrap().removeAttr("style");ag.remove();aT();aM.removeData("ccslider").removeData("dimensions").removeAttr("style").unbind(".ccslider");c(window).unbind(".slider3d .slider2d")};this.beforeSlideChange=function(bh){a7.beforeSlideChange.call(aM[0],bh);aM.trigger("beforeSlideChange",[bh])};this.afterSlideChange=function(bh){a7.afterSlideChange.call(aM[0],bh);aM.trigger("afterSlideChange",[bh])};if(a7.captions){var N=c('<div class="slider-caption"/>').appendTo(aM)}function y(){if(a7.captions){var bi=aG.eq(a3),bh="",i="";if(bi.data("captionelem")){bh=bi.data("captionelem");i=c(bh)[0].innerHTML}else{if(bi[0].alt){i=bi[0].alt}}if(i){N[0].innerHTML=i;a5=bi.data("captionPosition");a5=a5?a5:a7.captionPosition;N[0].className="slider-caption "+a5;N.removeAttr("style");q==="3d"&&aE();if(a7.captionAnimation==="none"){N.show()}else{if(a7.captionAnimation==="fade"){N.fadeIn(a7.captionAnimationSpeed)}else{if(a7.captionAnimation==="slide"){if(a5==="left"||a5==="right"){N.animate({width:"show",paddingLeft:"show",paddingRight:"show"},a7.captionAnimationSpeed)}else{N.slideDown(a7.captionAnimationSpeed)}}}}}}}y();function aN(){if(a7.captions){if(a7.captionAnimation==="none"){N.hide()}else{if(a7.captionAnimation==="fade"){N.fadeOut(a7.captionAnimationSpeed)}else{if(a7.captionAnimation==="slide"){if(a5==="left"||a5==="right"){N.animate({width:"hide",paddingLeft:"hide",paddingRight:"hide"},a7.captionAnimationSpeed)}else{N.slideUp(a7.captionAnimationSpeed)}}}}}}function aE(){if(a5==="bottom"){N.css({width:l-parseInt(N.css("padding-left"),10)-parseInt(N.css("padding-right"),10),left:(J-l)/2,bottom:(aw-a2)/2,right:"auto"})}else{if(a5==="top"){N.css({width:l-parseInt(N.css("padding-left"),10)-parseInt(N.css("padding-right"),10),left:(J-l)/2,top:(aw-a2)/2,right:"auto"})}else{if(a5==="left"){N.css({height:a2-parseInt(N.css("padding-top"),10)-parseInt(N.css("padding-bottom"),10),left:(J-l)/2,top:(aw-a2)/2,right:"auto",bottom:"auto"})}else{if(a5==="right"){N.css({height:a2-parseInt(N.css("padding-top"),10)-parseInt(N.css("padding-bottom"),10),right:(J-l)/2,top:(aw-a2)/2,left:"auto",bottom:"auto"})}}}}}var a8=c('<div class="cc-htmlwrapper"/>').appendTo(aM);for(var Z=0;Z<aj;Z++){var aS=aG.eq(Z).data("htmlelem");if(aS){a8.append(c(aS))}}function a0(){var i=aG.eq(a3).data("htmlelem");if(i){a8.show();c(i).show()}}function v(){a8.hide().children().hide()}a0();var T=c('<a class="slider-link" href="" />').appendTo(aM);T.hide();var au=[];for(var Z=0;Z<aj;Z++){au[Z]=aG.eq(Z).data("href")}function aI(){if(au[a3]){T.show();T[0].href=au[a3]}}aI();ay=S==="random"?true:false;function R(){var i=[];if(q==="3d"){if(o){i=["cubeUp","cubeDown","cubeRight","cubeLeft"]}else{i=["cubeUp","cubeDown","cubeRight","cubeLeft","flipUp","flipDown","flipRight","flipLeft","blindsVertical","blindsHorizontal","gridBlocksUp","gridBlocksDown","gridBlocksLeft","gridBlocksRight"]}}else{i=["fade","horizontalOverlap","verticalOverlap","horizontalSlide","verticalSlide","horizontalWipe","verticalWipe","horizontalSplit","verticalSplit","fadeSlide","circle","fadeZoom","clock","zoomInOut","spinFade","rotate"]}S=i[Math.floor(Math.random()*(i.length+1))];if(S===undefined){S=i[0]}}if(ay){R()}function a6(){aI();y();a0();G();P.afterSlideChange(a3);if(ay){R();q==="3d"?x():O()}else{if(aA[a3]){q==="3d"?x():O()}}}if(q==="3d"){aM.data("dimensions",{width:J,height:aw,imageWidth:l,imageHeight:a2});if(a7.directionNav){var ao=parseInt(ai.css("left"),10),A=parseInt(aX.css("right"),10)}ag.hide();aM.css("background","transparent none");if(a7.autoPlay){var bf=parseInt(s.css("right"),10),am=parseInt(s.css("top"),10)}function e(){var bj=aM.parent(),bi=(bj.width()+0.5)|0,bl=aM.data("dimensions"),bk=bl.width-bl.imageWidth;if(bi!==aM.width()){var i=bl.width/bl.height,bh=bl.imageWidth/bl.imageHeight;if(bl.width<=bi){aM.width(bl.width).height(bl.height);J=bl.width;aw=bl.height;l=bl.imageWidth;a2=bl.imageHeight}else{aM.width(bi).height(bi/i);J=bi;aw=(bi/i+0.5)|0;l=bi-bk;a2=(l/bh+0.5)|0}}if(a7.directionNav){ai.css("left",bk/2+ao);aX.css("right",bk/2+A)}aE();s&&s.css({right:bf+bk/2,top:"210px"});T.add(a8).css({width:l,height:a2,left:"50%",top:"50%",marginLeft:-l/2,marginTop:-a2/2})}e();function be(){(J-l)%2!==0&&(l--);(aw-a2)%2!==0&&(a2--)}be();var az,t,aL,f,a4=[],B=[],Q=[],W=[],av=[],ac=[],aK=[],al=[];function x(){if(aA[a3]){S=aA[a3].effect?aA[a3].effect:ay?S:a7.effect;F=aA[a3].slices?aA[a3].slices:a7._3dOptions.slices;an=aA[a3].rows?aA[a3].rows:a7._3dOptions.rows;ab=aA[a3].columns?aA[a3].columns:a7._3dOptions.columns;d=aA[a3].delay?aA[a3].delay:a7._3dOptions.delay;ap=aA[a3].delayDir?aA[a3].delayDir:a7._3dOptions.delayDir;m=aA[a3].depthOffset?aA[a3].depthOffset:a7._3dOptions.depthOffset;C=aA[a3].sliceGap?aA[a3].sliceGap:a7._3dOptions.sliceGap;aO=aA[a3].easing?aA[a3].easing:a7._3dOptions.easing;I=aA[a3].animSpeed?aA[a3].animSpeed:a7.animSpeed}X=S.indexOf("grid")!==-1?true:false;if(S==="cubeLeft"||S==="cubeRight"){az=l;t=((a2/F)+0.5)|0;aL=l}else{if(S==="cubeUp"||S==="cubeDown"){az=((l/F)+0.5)|0;t=a2;aL=a2}else{if(S==="flipLeft"||S==="flipRight"||S==="blindsHorizontal"){az=l;t=((a2/F)+0.5)|0;aL=10}else{if(S==="flipUp"||S==="flipDown"||S==="blindsVertical"){az=((l/F)+0.5)|0;t=a2;aL=10}else{if(X){az=((l/ab)+0.5)|0;t=((a2/an)+0.5)|0;aL=10;F=an*ab}}}}}f=aL===10?500:l>500?aL+100:aL+50;if(a4[0]){aM.find("canvas.draw").remove()}ba=aF(F);if(X){bb=aF(an);aH=aF(ab)}var bi=F,bl,bk,bh,bj;al=[];while(bi--){if(X){bk=w(bi);if(bk[0]<=bb){if(bk[1]<=aH){bl=2+bk[0]+bk[1]}else{bl=2+bk[0]+(ab-1-bk[1])}}else{if(bk[1]<=aH){bl=2+(an-1-bk[0])+bk[1]}else{bl=2+(an-1-bk[0])+(ab-1-bk[1])}}}else{if(bi<=ba){bl=2+bi}else{bl=2+F-1-bi}}a4[bi]=c('<canvas class="draw"/>').css("z-index",bl);al[bi]=a4[bi][0];B[bi]=a4[bi][0].getContext("2d");a4[bi][0].width=J;a4[bi][0].height=aw;if(!W[bi]){W[bi]=a.createElement("canvas");ac[bi]=W[bi].getContext("2d")}if(!av[bi]){av[bi]=a.createElement("canvas");aK[bi]=av[bi].getContext("2d")}bh=az;bj=t;if(X){if(bk[0]===(an-1)){bj=a2-bk[0]*t}if(bk[1]===(ab-1)){bh=l-bk[1]*az}Q[bi]=new Cube(bh,bj,aL,f,B[bi],ad,[]);Q[bi].position.y=a2/2-bj/2-bk[0]*t;Q[bi].position.x=-l/2+bh/2+bk[1]*az}else{if(S.indexOf("Left")!==-1||S.indexOf("Right")!==-1||S==="blindsHorizontal"){if(bi===(F-1)){bj=a2-bi*t}Q[bi]=new Cube(bh,bj,aL,f,B[bi],ad,[]);Q[bi].position.y=a2/2-bj/2-bi*t}else{if(S.indexOf("Up")!==-1||S.indexOf("Down")!==-1||S==="blindsVertical"){if(bi===(F-1)){bh=l-bi*az}Q[bi]=new Cube(bh,bj,aL,f,B[bi],ad,[]);Q[bi].position.x=-l/2+bh/2+bi*az}}}W[bi].width=av[bi].width=bh;W[bi].height=av[bi].height=bj;if(X){aZ(ac[bi],aG[a3],bk[0],bk[1])}else{aZ(ac[bi],aG[a3],bi)}Q[bi].images[0]=W[bi];Q[bi].render()}aM.append(al)}x();if(navigator.userAgent.match(/webkit/gi)!==null){x()}function aU(){if(o&&S.indexOf("cube")===0){var i=c('<canvas class="shadow"/>').appendTo(aM).css("z-index","1"),bh=i[0].getContext("2d");bh.canvas.width=J;bh.canvas.height=aw;var bk=new Plane(l,aL,f,bh,"#444","",af),bj=aM.data("dimensions"),bi=bj.width-bj.imageWidth;bk.position.y=-a2/2+50;bk.position.z=aL/2;bk.rotation.x=Math.PI/2;bk.shadowOffsetY=50+25;bk.render()}}aU();c(window).bind("resize.slider3d orientationchange.slider3d",function(){e();be();a7.autoPlay&&P.stop();aM.find("canvas.draw, canvas.shadow").remove();x();aU();a7.autoPlay&&P.start()})}function k(bt){if(!u){if(!at&&g){aT()}var bi=a3,bv=aG[a3],bj,bs,bp,bl,bo,bn,bm,bh;if(typeof(bt)==="number"){a3=bt;bt=bi<a3?"next":"prev"}else{a3+=~~(bt==="next")||-1;a3=a3<0?aj-1:a3%aj}var br=aG[a3];P.beforeSlideChange(a3);aN();v();M();T.hide();u=true;switch(S){case"cubeLeft":if(bt==="next"){bj=1;bs=-1}else{bj=3;bs=1}bp="y";break;case"cubeRight":if(bt==="next"){bj=3;bs=1}else{bj=1;bs=-1}bp="y";break;case"cubeUp":if(bt==="next"){bj=5;bs=1}else{bj=4;bs=-1}bp="x";break;case"cubeDown":if(bt==="next"){bj=4;bs=-1}else{bj=5;bs=1}bp="x";break;case"flipLeft":if(bt==="next"){bs=-1}else{bs=1}bj=2;bp="y";break;case"flipRight":if(bt==="next"){bs=1}else{bs=-1}bj=2;bp="y";break;case"flipUp":if(bt==="next"){bs=1}else{bs=-1}bj=2;bp="x";break;case"flipDown":if(bt==="next"){bs=-1}else{bs=1}bj=2;bp="x";break;case"blindsVertical":if(bt==="next"){bs=1}else{bs=-1}bj=2;bp="y";break;case"blindsHorizontal":if(bt==="next"){bs=-1}else{bs=1}bj=2;bp="x";break;case"gridBlocksUp":if(bt==="next"){bs=1}else{bs=-1}bj=2;bp="x";break;case"gridBlocksDown":if(bt==="next"){bs=-1}else{bs=1}bj=2;bp="x";break;case"gridBlocksLeft":if(bt==="next"){bs=-1}else{bs=1}bj=2;bp="y";break;case"gridBlocksRight":if(bt==="next"){bs=1}else{bs=-1}bj=2;bp="y";break}bn=F;while(bn--){if(X){bo=w(bn);aZ(ac[bn],bv,bo[0],bo[1]);aZ(aK[bn],br,bo[0],bo[1])}else{aZ(ac[bn],bv,bn);aZ(aK[bn],br,bn)}Q[bn].images[0]=W[bn];Q[bn].images[bj]=av[bn]}if(S.indexOf("cube")===0){bl=Math.PI/2}else{bl=Math.PI}bn=F;var bu,bq;while(bn--){Q[bn].rotation[bp]=0;if(X){bo=w(bn);switch(ap){case"fromCentre":bu=(Math.abs(bo[0]-bb))*d+(Math.abs(bo[1]-aH))*d;bq=0;break;case"toCentre":if(bo[0]<bb){bu=bo[0]*d}else{bu=(an-1-bo[0])*d}if(bo[1]<aH){bu+=bo[1]*d}else{bu+=(ab-1-bo[1])*d}bq=ba;break;case"first-last":bu=bo[0]*d+bo[1]*d;bq=F-1;break;case"last-first":bu=(an-1-bo[0])*d+(ab-1-bo[1])*d;bq=0;break}}else{switch(ap){case"fromCentre":bu=(Math.abs(bn-ba))*d;bq=0;break;case"toCentre":if(bn<ba){bu=bn*d}else{bu=(F-1-bn)*d}bq=ba;break;case"first-last":bu=bn*d;bq=F-1;break;case"last-first":bu=(F-1-bn)*d;bq=0;break}}c.fx.interval=25;var bk={axis:bp,angle:0,z:0,gap:0,cubeX:Q[bn].position.x,cubeY:Q[bn].position.y,cubeZ:Q[bn].position.z,cube:Q[bn],cubeNum:bn,gridXY:bo};c(bk).delay(bu).animate({angle:bs*bl,gap:2*C,z:2*m},{duration:I,specialEasing:{angle:aO,z:"easeInOutCubic",gap:"easeInOutCubic"},step:a1,complete:function(){if(this.cubeNum===bq){c.fx.interval=16;a6()}}})}}}function a1(bh,i){if(i.prop==="angle"){this.cube.rotation[this.axis]=bh}else{if(i.prop==="gap"){if(bh>C){bh=2*C-bh}if(S==="blindsHorizontal"){this.cube.position.y=this.cubeY-(this.cubeNum-ba)*bh}else{if(S==="blindsVertical"){this.cube.position.x=this.cubeX+(this.cubeNum-ba)*bh}else{if(X){this.cube.position.y=this.cubeY-(this.gridXY[0]-bb)*bh;this.cube.position.x=this.cubeX+(this.gridXY[1]-aH)*bh}else{if(this.axis==="y"){this.cube.position.y=this.cubeY-(this.cubeNum-ba)*bh}else{if(this.axis==="x"){this.cube.position.x=this.cubeX+(this.cubeNum-ba)*bh}}}}}}else{if(bh>m){bh=2*m-bh}this.cube.position.z=this.cubeZ+bh;this.cube.render()}}}function aZ(br,bk,bi,i){var bm=br.canvas.width,bh=br.canvas.height;if(bg){br.clearRect(0,0,bm,bh)}if(bk.width!==l||bk.height!==a2){var bl=a.createElement("canvas"),bo=bl.getContext("2d");bl.width=l;bl.height=a2;bo.drawImage(bk,0,0,l,a2);bk=bl}if(S.indexOf("grid")!==-1){var bq=((bk.width/ab)+0.5)|0,bp=((bk.height/an)+0.5)|0,bj=bq,bn=bp;if(bi===(an-1)){bp=bk.height-bi*bp}if(i===(ab-1)){bq=bk.width-i*bq}br.drawImage(bk,i*bj,bi*bn,bq,bp,0,0,bm,bh)}else{if(S.indexOf("Up")!==-1||S.indexOf("Down")!==-1||S==="blindsVertical"){var bq=((bk.width/F)+0.5)|0,bj=bq;if(bi===F-1){bq=bk.width-bi*bq}br.drawImage(bk,bi*bj,0,bq,bk.height,0,0,bm,bh)}else{if(S.indexOf("Left")!==-1||S.indexOf("Right")!==-1||S==="blindsHorizontal"){var bp=((bk.height/F)+0.5)|0,bn=bp;if(bi===F-1){bp=bk.height-bi*bp}br.drawImage(bk,0,bi*bn,bk.width,bp,0,0,bm,bh)}}}}function aF(bh){var i;if(bh%2===0){i=bh/2}else{i=(bh+1)/2}return(i-1)}function w(bi){var bh,i;if(bi%ab!==0){bh=(bi/ab)|0;i=bi%ab}else{bh=bi/ab;i=0}return[bh,i]}if(q==="2d"){var aD=new Image(),j=1,z=1,bd=0,p=aM.parent(),ao=a7.directionNav?parseInt(ai.css("left"),10):0,A=a7.directionNav?parseInt(aX.css("right"),10):0,Y=(ao+A)<0?-(ao+A):0;aG.each(function(){aD.src=this.src;if(j<aD.width){j=aD.width}if(z<aD.height){z=aD.height}});bd=j/z;aM.css({backgroundImage:"none"});c(window).bind("resize.slider2d orientationchange.slider2d",function(){a7.autoPlay&&P.stop();if(p.width()>=j+Y){aM.width(j);aM.height(z);aQ=j;D=z}else{var i=p.is("body")?(p.width()-Y):p.width(),bh=i/bd;aM.width(i);aM.height(bh);aQ=i;D=bh}if(aP){U.css({left:-aQ,width:aQ,height:(Math.sqrt(aQ*aQ+D*D)),marginTop:-(Math.sqrt(aQ*aQ+D*D))/2});ah.css({right:-aQ,width:aQ,height:(Math.sqrt(aQ*aQ+D*D)),marginTop:-(Math.sqrt(aQ*aQ+D*D))/2});h.add(aB).css({width:aQ,height:D,marginTop:-D/2})}a7.autoPlay&&P.start()}).trigger("resize.slider2d");aG.eq(a3).css("z-index","3").fadeIn(600,function(){aG.show()});var aJ,aY,aW,bc,aP,aR,ah,U,aB,h;function O(){if(aA[a3]&&!V){S=aA[a3].effect?aA[a3].effect:ay?S:a7.effect;I=aA[a3].animSpeed?aA[a3].animSpeed:a7.animSpeed}if((S==="clock"||S==="circle"||S==="spinFade"||S==="rotate")&&(navigator.appName.toLowerCase().indexOf("microsoft")!=-1&&parseFloat(navigator.appVersion.split("MSIE")[1],10)<9)){S="fadeSlide"}if(S.indexOf("Wipe")!==-1){if(!aJ){aJ=c('<div class="wipe-div"/>').appendTo(aM)}}if(S.indexOf("Split")!==-1){if(!aY){aY=c('<div class="split1-div"/>').appendTo(aM);aW=c('<div class="split2-div"/>').appendTo(aM)}}if(S.indexOf("circle")!==-1){if(!bc){bc=c('<div class="circle-div"/>').appendTo(ag)}}if(S.indexOf("clock")!==-1){if(!aP){aP=c('<div class="clock-mask left"/>').appendTo(aM);ah=c('<div class="clock-outer"/>').appendTo(aP);aB=c('<div class="clock-inner"/>').appendTo(ah);aR=c('<div class="clock-mask right"/>').appendTo(aM);U=c('<div class="clock-outer"/>').appendTo(aR);h=c('<div class="clock-inner"/>').appendTo(U);U.css({left:-aQ,width:aQ,height:(Math.sqrt(aQ*aQ+D*D)),marginTop:-(Math.sqrt(aQ*aQ+D*D))/2});ah.css({right:-aQ,width:aQ,height:(Math.sqrt(aQ*aQ+D*D)),marginTop:-(Math.sqrt(aQ*aQ+D*D))/2});h.add(aB).css({width:aQ,height:D,marginTop:-D/2})}}}O()}function ar(bn){if(!u){if(!at&&g){aT()}var bh=a3,bp=aG.eq(a3),bm;if(typeof(bn)==="number"){a3=bn;bn=bh<a3?"next":"prev"}else{a3+=~~(bn==="next")||-1;a3=a3<0?aj-1:a3%aj}bm=aG.eq(a3);P.beforeSlideChange(a3);aN();v();M();T.hide();u=true;aG.css("z-index","1");bp.css("z-index","2");switch(S){case"fade":bm.css({opacity:0,zIndex:3}).animate({opacity:1},I,a6);break;case"horizontalOverlap":if(bn==="next"){bm.css({left:aQ,zIndex:3}).animate({left:0},I,a6)}else{bm.css({left:-aQ,zIndex:3}).animate({left:0},I,a6)}break;case"verticalOverlap":if(bn==="next"){bm.css({top:-D,zIndex:3}).animate({top:0},I,a6)}else{bm.css({top:D,zIndex:3}).animate({top:0},I,a6)}break;case"horizontalSlide":if(bn==="next"){bm.css({left:aQ,zIndex:3}).animate({left:0},I,a6);bp.animate({left:-aQ},I,function(){bp.css("left","0")})}else{bm.css({left:-aQ,zIndex:3}).animate({left:0},I,a6);bp.animate({left:aQ},I,function(){bp.css("left","0")})}break;case"verticalSlide":if(bn==="next"){bm.css({top:-D,zIndex:3}).animate({top:0},I,a6);bp.animate({top:D},I,function(){bp.css("top","0")})}else{bm.css({top:D,zIndex:3}).animate({top:0},I,a6);bp.animate({top:-D},I,function(){bp.css("top","0")})}break;case"horizontalWipe":bm.hide();aJ.css({background:"url("+bm[0].src+") no-repeat",height:D}).animate({width:aQ},I,function(){aJ.css({width:0,height:0});bm.css("z-index","3").show();a6()});break;case"verticalWipe":bm.hide();aJ.css({background:"url("+bm[0].src+") no-repeat",width:aQ}).animate({height:D},I,function(){aJ.css({width:0,height:0});bm.css("z-index","3").show();a6()});break;case"verticalSplit":bp.css({opacity:0});bm.css({zIndex:3});aY.css({width:aQ/2,height:D,top:0,left:0,background:"url("+bp[0].src+") no-repeat"});aW.css({width:aQ/2,height:D,top:0,right:0,background:"url("+bp[0].src+") -50% 0 no-repeat"});aY.animate({width:0},I);aW.animate({width:0},{duration:I,step:function(bq){aW.css("background-position",bq-aQ+"px 0")},complete:function(){bp.css("opacity","1");aY.add(aW).css({top:"auto",bottom:"auto",left:"auto",right:"auto"});a6()}});break;case"horizontalSplit":bp.css({opacity:0});bm.css({zIndex:3});aY.css({width:aQ,height:D/2,top:0,left:0,background:"url("+bp[0].src+") no-repeat"});aW.css({width:aQ,height:D/2,bottom:0,left:0,background:"url("+bp[0].src+") 0 -50% no-repeat"});aY.animate({height:0},I);aW.animate({height:0},{duration:I,step:function(bq){aW.css("background-position","0"+(bq-D)+"px")},complete:function(){bp.css("opacity","1");aY.add(aW).css({top:"auto",bottom:"auto",left:"auto",right:"auto"});a6()}});break;case"fadeSlide":bm.css("z-index","3");bp.css("z-index","4");if(bn==="next"){bp.animate({left:-aQ,opacity:0},I,function(){bp.css({left:0,opacity:1,zIndex:1});a6()})}else{bp.animate({left:aQ,opacity:0},I,function(){bp.css({left:0,opacity:1,zIndex:1});a6()})}break;case"circle":var bo=Math.round(Math.sqrt(aQ*aQ+D*D));if(bn==="next"){bm.hide();bc.css({background:"url("+bm[0].src+") center center no-repeat","-webkit-background-size":aQ+"px "+D+"px","background-size":aQ+"px "+D+"px"}).animate({width:bo,height:bo,marginLeft:-bo/2,marginTop:-bo/2},I,function(){bc.css({width:0,height:0,marginLeft:0,marginTop:0});bm.css("z-index","3").show();a6()})}else{bm.css("z-index","3");bp.css("z-index","2");bc.css({background:"url("+bp[0].src+") center center no-repeat","-webkit-background-size":aQ+"px "+D+"px","background-size":aQ+"px "+D+"px",width:bo,height:bo,marginLeft:-bo/2,marginTop:-bo/2,zIndex:4}).animate({width:0,height:0,marginLeft:0,marginTop:0},I,function(){bc.css("z-index","3");a6()})}break;case"fadeZoom":bm.css("z-index","3");bp.css({"z-index":"4",maxWidth:"none",width:aQ});var bl=aQ,bk=D;bp.animate({top:-bk/2,left:-bl/2,width:2*bl,height:2*bk,opacity:0},I,function(){bp.css({top:0,left:0,maxWidth:"100%",width:"auto",height:"auto",opacity:1,zIndex:2});a6()});break;case"clock":aP.add(aR).show();aB.add(h).css({background:"url("+bm[0].src+") center center no-repeat"});var bi={deg:0};c(bi).animate({deg:358},{duration:I,step:function(bq){if(bq<=180){U.css({"-moz-transform":"rotate("+bq+"deg)","-webkit-transform":"rotate("+bq+"deg)","-o-transform":"rotate("+bq+"deg)","-ms-transform":"rotate("+bq+"deg)"});h.css({"-moz-transform":"rotate(-"+bq+"deg)","-webkit-transform":"rotate(-"+bq+"deg)","-o-transform":"rotate(-"+bq+"deg)","-ms-transform":"rotate(-"+bq+"deg)"})}else{U.css({"-moz-transform":"rotate(180deg)","-webkit-transform":"rotate(180deg)","-o-transform":"rotate(180deg)","-ms-transform":"rotate(180deg)"});h.css({"-moz-transform":"rotate(-180deg)","-webkit-transform":"rotate(-180deg)","-o-transform":"rotate(-180deg)","-ms-transform":"rotate(-180deg)"});bq=bq-180;ah.css({"-moz-transform":"rotate("+bq+"deg)","-webkit-transform":"rotate("+bq+"deg)","-o-transform":"rotate("+bq+"deg)","-ms-transform":"rotate("+bq+"deg)"});aB.css({"-moz-transform":"rotate(-"+bq+"deg)","-webkit-transform":"rotate(-"+bq+"deg)","-o-transform":"rotate(-"+bq+"deg)","-ms-transform":"rotate(-"+bq+"deg)"})}},complete:function(){aP.add(aR).hide();ah.add(U).add(aB).add(h).css({"-moz-transform":"rotate(0)","-webkit-transform":"rotate(0)","-o-transform":"rotate(0)","-ms-transform":"rotate(0)"});bm.css("z-index","3");a6()}});break;case"zoomInOut":aG.hide();bm.css("z-index","3").show();bp.css("z-index","4").show();var bl=bp[0].width,bk=bp[0].height,bj=bm[0].width,i=bm[0].height;bm.css({top:i/2,left:bj/2,width:0,height:0,opacity:0});bp.animate({top:bk/2,left:bl/2,width:0,height:0,opacity:0},I/2,function(){bm.animate({top:0,left:0,width:bj,height:i,opacity:1},I/2,function(){bp.css({top:0,left:0,width:"auto",height:"auto",opacity:1,zIndex:2});bm.css({width:"auto",height:"auto"});aG.show();a6()})});break;case"spinFade":bm.css("z-index","3");bp.css({"z-index":"4","-moz-transform-origin":"center center","-webkit-transform-origin":"center center","-o-transform-origin":"center center","-ms-transform-origin":"center center"});var bl=bp[0].width,bk=bp[0].height,bi={deg:0};c(bi).animate({deg:1080},{duration:I,step:function(bq){bp.css({"-moz-transform":"rotate("+bq+"deg)","-webkit-transform":"rotate("+bq+"deg)","-o-transform":"rotate("+bq+"deg)","-ms-transform":"rotate("+bq+"deg)"})}});bp.animate({top:bk/2,left:bl/2,width:0,height:0,opacity:0},I,function(){bp.css({top:0,left:0,width:"auto",height:"auto",opacity:1,zIndex:2});a6()});break;case"rotate":bm.css({"z-index":"3","-moz-transform-origin":"0 0","-moz-transform":"rotate(-90deg)","-webkit-transform-origin":"0 0","-webkit-transform":"rotate(-90deg)","-o-transform-origin":"0 0","-o-transform":"rotate(-90deg)","-ms-transform-origin":"0 0","-ms-transform":"rotate(-90deg)"});var bi={deg:-90};c(bi).animate({deg:0},{duration:I,step:function(bq){bm.css({"-moz-transform":"rotate("+bq+"deg)","-webkit-transform":"rotate("+bq+"deg)","-o-transform":"rotate("+bq+"deg)","-ms-transform":"rotate("+bq+"deg)"})},complete:a6})}}}}c.fn.ccslider=function(d){return this.each(function(){if(!c.data(this,"ccslider")){c.data(this,"ccslider",new b(this,d))}})};c.fn.ccslider.defaults={effectType:"3d",effect:"cubeUp",_3dOptions:{imageWidth:600,imageHeight:300,transparentImg:false,innerSideColor:"#444",makeShadow:true,shadowColor:"rgba(0, 0, 0, 0.7)",slices:3,rows:3,columns:3,delay:200,delayDir:"first-last",depthOffset:400,sliceGap:20,easing:"easeInOutCubic",fallBack:"fadeSlide",fallBackSpeed:1200},animSpeed:1200,startSlide:0,directionNav:true,controlLinks:true,controlLinkThumbs:false,controlThumbLocation:"",autoPlay:true,pauseTime:3000,pauseOnHover:true,captions:true,captionPosition:"bottom",captionAnimation:"slide",captionAnimationSpeed:600,beforeSlideChange:function(d){},afterSlideChange:function(d){}}})(jQuery,document);function Cube(e,b,g,f,c,d,a){this.width=e;this.height=b;this.depth=g;this.focalLength=f;this.ctx=c;this.color=d;this.images=a;this.rotation={x:0,y:0,z:0,parent:this};this.position={x:0,y:0,z:0,parent:this};this.canvas=this.ctx.canvas;this.cwidth=this.canvas.width;this.cheight=this.canvas.height;this.centerx=this.cwidth/2;this.centery=this.cheight/2;this.maxX=0;this.minX=0;this.maxY=0;this.minY=0;this.drawWidth=0;this.drawHeight=0;this.vertexPoints=[make3DPoint(-this.width/2,this.height/2,-this.depth/2),make3DPoint(this.width/2,this.height/2,-this.depth/2),make3DPoint(this.width/2,-this.height/2,-this.depth/2),make3DPoint(-this.width/2,-this.height/2,-this.depth/2),make3DPoint(-this.width/2,this.height/2,this.depth/2),make3DPoint(this.width/2,this.height/2,this.depth/2),make3DPoint(this.width/2,-this.height/2,this.depth/2),make3DPoint(-this.width/2,-this.height/2,this.depth/2)];this.position.z+=this.depth/2}Cube.prototype.render=function(){var d=Transform3DTo2D(this.vertexPoints,this.rotation,this.position,this.focalLength,this.centerx,this.centery);this.ctx.clearRect(this.minX,this.minY,this.drawWidth,this.drawHeight);var b;if(isVisible(d[3],d[0],d[1])){b=[d[0],d[1],d[3],d[2]];mapTexture(this.ctx,b,this.images[0])}if(isVisible(d[6],d[5],d[4])){if(this.rotation.x===0){b=[d[5],d[4],d[6],d[7]]}else{b=[d[7],d[6],d[4],d[5]]}mapTexture(this.ctx,b,this.images[2])}if(isVisible(d[2],d[1],d[5])&&this.depth!==0){if(this.images[1]){b=[d[1],d[5],d[2],d[6]];mapTexture(this.ctx,b,this.images[1])}else{this.ctx.fillStyle=this.color;drawPlane(this.ctx,d[1],d[5],d[6],d[2]);this.ctx.fill()}}if(isVisible(d[7],d[4],d[0])&&this.depth!==0){if(this.images[3]){b=[d[4],d[0],d[7],d[3]];mapTexture(this.ctx,b,this.images[3])}else{this.ctx.fillStyle=this.color;drawPlane(this.ctx,d[4],d[0],d[3],d[7]);this.ctx.fill()}}if(isVisible(d[0],d[4],d[5])&&this.depth!==0){if(this.images[4]){b=[d[4],d[5],d[0],d[1]];mapTexture(this.ctx,b,this.images[4])}else{this.ctx.fillStyle=this.color;drawPlane(this.ctx,d[4],d[5],d[1],d[0]);this.ctx.fill()}}if(isVisible(d[7],d[3],d[2])&&this.depth!==0){if(this.images[5]){b=[d[3],d[2],d[7],d[6]];mapTexture(this.ctx,b,this.images[5])}else{this.ctx.fillStyle=this.color;drawPlane(this.ctx,d[3],d[2],d[6],d[7]);this.ctx.fill()}}var a=Math.max,c=Math.min;this.maxX=(a(d[0].x,d[1].x,d[2].x,d[3].x,d[4].x,d[5].x,d[6].x,d[7].x)+1)|0;this.minX=c(d[0].x,d[1].x,d[2].x,d[3].x,d[4].x,d[5].x,d[6].x,d[7].x)|0;this.maxY=(a(d[0].y,d[1].y,d[2].y,d[3].y,d[4].y,d[5].y,d[6].y,d[7].y)+1)|0;this.minY=c(d[0].y,d[1].y,d[2].y,d[3].y,d[4].y,d[5].y,d[6].y,d[7].y)|0;this.drawWidth=this.maxX-this.minX;this.drawHeight=this.maxY-this.minY};function Plane(e,a,g,b,d,c,f){this.width=e;this.height=a;this.focalLength=g;this.ctx=b;this.color=d;this.shadowColor=f;this.rotation={x:0,y:0,z:0};this.position={x:0,y:0,z:0};this.canvas=this.ctx.canvas,this.cWidth=this.canvas.width,this.cHeight=this.canvas.height,this.centerx=this.cWidth/2,this.centery=this.cHeight/2;this.vertexPoints=[make3DPoint(-this.width/2,this.height/2,0),make3DPoint(this.width/2,this.height/2,0),make3DPoint(this.width/2,-this.height/2,0),make3DPoint(-this.width/2,-this.height/2,0)]}Plane.prototype.render=function(){var a=Transform3DTo2D(this.vertexPoints,this.rotation,this.position,this.focalLength,this.centerx,this.centery),b=(Math.max(a[0].y,a[1].y,a[2].y,a[3].y)+1)|0,c=Math.min(a[0].y,a[1].y,a[2].y,a[3].y)|0;this.ctx.clearRect(0,0,this.cWidth,this.cHeight);drawPlane(this.ctx,make2DPoint(0,this.cHeight),make2DPoint(this.cWidth,this.cHeight),make2DPoint(this.cWidth,b),make2DPoint(0,b));this.ctx.clip();this.ctx.shadowOffsetX=0;this.ctx.shadowOffsetY=(b-c)>=25?this.shadowOffsetY:this.shadowOffsetY-25+(b-c);this.ctx.shadowBlur=15;this.ctx.shadowColor=this.shadowColor;this.ctx.fillStyle=this.color;drawPlane(this.ctx,a[0],a[1],a[2],a[3]);this.ctx.fill()};function make3DPoint(b,d,c){var a={x:b,y:d,z:c};return a}function make2DPoint(b,c){var a={x:b,y:c};return a}function Transform3DTo2D(w,j,D,h,u,t){var k=[],A=Math.sin,a=Math.cos,r=A(j.x),e=a(j.x),p=A(j.y),d=a(j.y),o=A(j.z),b=a(j.z),n,m,l,g,f,s,q,C,B,c;var v=w.length;while(v--){n=w[v].x;m=w[v].y;l=w[v].z;g=e*m-r*l;f=r*m+e*l;q=d*f+p*n;s=-p*f+d*n;C=b*s-o*g;B=o*s+b*g;n=C+D.x;m=B+D.y;l=q+D.z;c=h/(h+l);n=n*c+u;m=-(m*c)+t;k[v]={x:n,y:m}}return k}function drawPlane(g,f,e,i,h){g.beginPath();g.moveTo(f.x,f.y);g.lineTo(e.x,e.y);g.lineTo(i.x,i.y);g.lineTo(h.x,h.y);g.closePath()}function isVisible(e,d,f){if(((d.y-e.y)/(d.x-e.x)-(f.y-e.y)/(f.x-e.x)<0)^(e.x<=d.x===e.x>f.x)){return true}else{return false}};


/*
 * Projective texturing using Canvas.
 *
 * (c) Steven Wittens 2008
 * http://www.acko.net/
 */

/*
 * Modified by Nilok Bose, (c) 2011
 * http://codecanyon.net/user/cosmocoder
 */

function mapTexture(j,i,e){var h=5,g=64,b=getProjectiveTransform(i);var d=b.transformProjectiveVector([0,0,1]),a=b.transformProjectiveVector([1,0,1]),f=b.transformProjectiveVector([0,1,1]),c=b.transformProjectiveVector([1,1,1]);j.save();j.beginPath();j.moveTo(d[0],d[1]);j.lineTo(a[0],a[1]);j.lineTo(c[0],c[1]);j.lineTo(f[0],f[1]);j.closePath();j.clip();divide(0,0,1,1,d,a,f,c,b,h,g,j,e);j.restore()}function divide(o,W,m,V,U,T,S,Q,x,u,l,s,h){var C=Math.abs,B=Math.max,g=Math.min,q=Math.sqrt;if(u){var M=[T[0]+S[0]-2*U[0],T[1]+S[1]-2*U[1]],K=[T[0]+S[0]-2*Q[0],T[1]+S[1]-2*Q[1]],I=[M[0]+K[0],M[1]+K[1]],E=C((I[0]*I[0]+I[1]*I[1])/(M[0]*K[0]+M[1]*K[1]));M=[T[0]-U[0]+Q[0]-S[0],T[1]-U[1]+Q[1]-S[1]];K=[S[0]-U[0]+Q[0]-T[0],S[1]-U[1]+Q[1]-T[1]];var A=C(M[0]*K[1]-M[1]*K[0]);if((o===0&&m===1)||((0.25+E*5)*A>(l*l))){var c=(o+m)/2,w=(W+V)/2,a=x.transformProjectiveVector([c,w,1]),i=x.transformProjectiveVector([c,W,1]),t=x.transformProjectiveVector([c,V,1]),p=x.transformProjectiveVector([o,w,1]),j=x.transformProjectiveVector([m,w,1]);--u;divide(o,W,c,w,U,i,p,a,x,u,l,s,h);divide(c,W,m,w,i,T,a,j,x,u,l,s,h);divide(o,w,c,V,p,a,S,t,x,u,l,s,h);divide(c,w,m,V,a,j,t,Q,x,u,l,s,h);return}}s.save();var P=[T[0]-U[0],T[1]-U[1]],y=[Q[0]-T[0],Q[1]-T[1]],R=[S[0]-Q[0],S[1]-Q[1]],k=[U[0]-S[0],U[1]-S[1]];var H=C(P[0]*k[1]-P[1]*k[0]),G=C(y[0]*P[1]-y[1]*P[0]),D=C(R[0]*y[1]-R[1]*y[0]),F=C(k[0]*R[1]-k[1]*R[0]),n=B(B(H,G),B(F,D)),d=0,b=0,L=0,J=0;switch(n){case H:s.transform(P[0],P[1],-k[0],-k[1],U[0],U[1]);if(m!==1){L=1.5/q(P[0]*P[0]+P[1]*P[1])}if(V!==1){J=1.5/q(k[0]*k[0]+k[1]*k[1])}break;case G:s.transform(P[0],P[1],y[0],y[1],T[0],T[1]);if(m!==1){L=1.5/q(P[0]*P[0]+P[1]*P[1])}if(V!==1){J=1.5/q(y[0]*y[0]+y[1]*y[1])}d=-1;break;case D:s.transform(-R[0],-R[1],y[0],y[1],Q[0],Q[1]);if(m!==1){L=1.5/q(R[0]*R[0]+R[1]*R[1])}if(V!==1){J=1.5/q(y[0]*y[0]+y[1]*y[1])}d=-1;b=-1;break;case F:s.transform(-R[0],-R[1],-k[0],-k[1],S[0],S[1]);if(m!==1){L=1.5/q(R[0]*R[0]+R[1]*R[1])}if(V!==1){J=1.5/q(k[0]*k[0]+k[1]*k[1])}b=-1;break}var f=(m-o),e=(V-W),O=L*f,N=J*e;var v=h.width,z=h.height;s.drawImage(h,o*v,W*z,g(m-o+O,1)*v,g(V-W+N,1)*z,d,b,1+L,1+J);s.restore()}function getProjectiveTransform(b){var c=new Matrix(9,8,[[1,1,1,0,0,0,-b[3].x,-b[3].x,-b[3].x],[0,1,1,0,0,0,0,-b[2].x,-b[2].x],[1,0,1,0,0,0,-b[1].x,0,-b[1].x],[0,0,1,0,0,0,0,0,-b[0].x],[0,0,0,-1,-1,-1,b[3].y,b[3].y,b[3].y],[0,0,0,0,-1,-1,0,b[2].y,b[2].y],[0,0,0,-1,0,-1,b[1].y,0,b[1].y],[0,0,0,0,0,-1,0,0,b[0].y]]);var d=c.rowEchelon().values;var a=new Matrix(3,3,[[-d[0][8],-d[1][8],-d[2][8]],[-d[3][8],-d[4][8],-d[5][8]],[-d[6][8],-d[7][8],1]]);return a};


/*
 * Generic matrix class.
 * (c) Steven Wittens 2008
 * http://www.acko.net/
 */

/*
 * Modified by Nilok Bose, (c) 2011
 * http://codecanyon.net/user/cosmocoder
 */

var Matrix=function(a,c,b){this.w=a;this.h=c;this.values=b||Matrix.allocate(c)};Matrix.allocate=function(a,e){var b=[],d=e,c=a;while(d--){b[d]=[];while(c--){b[d][c]=0}}return b};Matrix.cloneValues=function(a){var c=[],b=a.length;while(b--){c[b]=[].concat(a[b])}return c};Matrix.prototype.transformProjectiveVector=function(b){var c=[];for(var e=0;e<this.h;++e){c[e]=0;for(var a=0;a<this.w;++a){c[e]+=this.values[e][a]*b[a]}}var d=1/(c[c.length-1]);for(var e=0;e<this.h;++e){c[e]*=d}return c};Matrix.prototype.rowEchelon=function(){if(this.w<=this.h){throw"Matrix rowEchelon size mismatch"}var h=Matrix.cloneValues(this.values);for(var a=0;a<this.h;++a){var f=h[a][a];while(f==0){for(var g=a+1;g<this.h;++g){if(h[g][a]!=0){var i=h[g];h[g]=h[a];h[a]=i;break}}if(g==this.h){return new Matrix(this.w,this.h,h)}else{f=h[a][a]}}var b=1/f;for(var e=a;e<this.w;++e){h[a][e]*=b}for(var d=0;d<this.h;++d){if(d==a){continue}var c=h[d][a];h[d][a]=0;for(var e=a+1;e<this.w;++e){h[d][e]-=c*h[a][e]}}}return new Matrix(this.w,this.h,h)};
